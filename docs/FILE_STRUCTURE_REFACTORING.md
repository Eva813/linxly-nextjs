# æª”æ¡ˆçµæ§‹é‡æ§‹æŒ‡å—

## æ–°çš„æª”æ¡ˆçµ„ç¹”æ¶æ§‹

æ ¹æ“šå‰å¾Œç«¯åˆ†é›¢çš„æœ€ä½³å¯¦å‹™ï¼Œæˆ‘å€‘é‡æ–°çµ„ç¹”äº†æª”æ¡ˆçµæ§‹ï¼š

### ğŸ“ `src/server/` - å¾Œç«¯é‚è¼¯
å°ˆé–€è™•ç† API è·¯ç”±ã€è³‡æ–™åº«æ“ä½œç­‰å¾Œç«¯é‚è¼¯

- `server/db/` - è³‡æ–™åº«é€£æ¥å’Œè¨­å®š
- `server/utils/` - å¾Œç«¯å°ˆç”¨å·¥å…·å‡½å¼
- `server/services/` - æ¥­å‹™é‚è¼¯æœå‹™ï¼ˆæœªä¾†å¯æ“´å±•ï¼‰

### ğŸ“ `src/shared/` - å‰å¾Œç«¯å…±ç”¨
å­˜æ”¾å¯ä»¥è¢«å‰ç«¯å’Œå¾Œç«¯åŒæ™‚ä½¿ç”¨çš„é¡å‹å®šç¾©ã€å¸¸æ•¸ç­‰

- `shared/types/` - TypeScript é¡å‹å®šç¾©
- `shared/constants/` - å¸¸æ•¸å®šç¾©ï¼ˆæœªä¾†å¯æ“´å±•ï¼‰

### ğŸ“ `src/lib/` - å‰ç«¯å°ˆç”¨
åªåŒ…å«å‰ç«¯ç›¸é—œçš„å·¥å…·å‡½å¼å’Œ hooks

### ğŸ“ `src/components/` - React å…ƒä»¶
å‰ç«¯ UI å…ƒä»¶

## é·ç§»èªªæ˜

### ä¹‹å‰
```typescript
import { promptUtils } from '@/lib/utils/promptUtils';
```

### ç¾åœ¨
```typescript
// å¾Œç«¯ API ä¸­
import { promptUtils } from '@/server/utils/promptUtils';
import type { PromptData } from '@/shared/types/prompt';

// å‰ç«¯å…ƒä»¶ä¸­
import type { PromptData } from '@/shared/types/prompt';
```

## å„ªé»

1. **æ¸…æ™°çš„é—œæ³¨é»åˆ†é›¢**: å‰ç«¯å’Œå¾Œç«¯é‚è¼¯æ˜ç¢ºåˆ†é–‹
2. **æ›´å¥½çš„ç¨‹å¼ç¢¼çµ„ç¹”**: æ¯å€‹ç›®éŒ„éƒ½æœ‰æ˜ç¢ºçš„è·è²¬
3. **æ¸›å°‘è€¦åˆ**: å‰ç«¯ä¸æœƒæ„å¤–ä½¿ç”¨å¾Œç«¯å°ˆç”¨çš„é‚è¼¯
4. **é¡å‹å®‰å…¨**: å…±ç”¨é¡å‹ç¢ºä¿å‰å¾Œç«¯çš„è³‡æ–™ä¸€è‡´æ€§
5. **æ›´å®¹æ˜“ç¶­è­·**: æª”æ¡ˆçµæ§‹æ›´ç›´è§€ï¼Œä¾¿æ–¼åœ˜éšŠå”ä½œ

## æª”æ¡ˆå°æ‡‰è¡¨

| èˆŠä½ç½® | æ–°ä½ç½® | èªªæ˜ |
|--------|--------|------|
| `lib/utils/promptUtils.ts` | `server/utils/promptUtils.ts` | å¾Œç«¯ prompt å·¥å…·å‡½å¼ |
| - | `shared/types/prompt.ts` | å‰å¾Œç«¯å…±ç”¨çš„é¡å‹å®šç¾© |
| - | `server/db/firebase.ts` | Firebase Admin è¨­å®š |
